<!DOCTYPE html>
<html>

<head>
	<title>校园帮帮网-主页</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" http-equiv="Content-Type"
		content="text/html; charset=utf-8">
	<!-- 引入 Bootstrap -->
	<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="js/util.js"></script>
	<link rel="bookmark" type="image/x-icon" href="pic/favicon.ico" />
	<link rel="shortcut icon" href="pic/favicon.ico">
	<style>
		.mynav ul {
		  display: -webkit-box;
		  display: -ms-flexbox;
		  display: flex;
		  -webkit-box-pack: left;
			  -ms-flex-pack: left;
				  justify-content: left;
		  -ms-flex-wrap: wrap;
			  flex-wrap: wrap;
		  list-style-type: none;
		  padding: 0;
		}
		
		.mynav li:not(:last-child) {
		  margin-right: 20px;
		}
		
		.mynav a {
		  display: block;
		  font-size: 15px;
		  color: black;
		  text-decoration: none;
		  padding: 7px 4px;
		}
		
		.target {
		  position: absolute;

		  border-bottom: 3px solid transparent;
		  z-index: -1;
		  -webkit-transform: translateX(-60px);
				  transform: translateX(-60px);
		}
		
		.mynav a,
		.target {
		  -webkit-transition: all .35s ease-in-out;
		  transition: all .35s ease-in-out;
		}</style>
</head>

<body>


		<!-- 提问模态框（Modal） -->
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
						</button>
						<h4 class="modal-title" id="myModalLabel">提问</h4>
					</div>
					<div class="modal-body">
						<div >
							<div class="row clearfix">
								<div class="col-md-12 column">
									<div class="alert alert-dismissable alert-info">
					 					<button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
											<h4>提问须知</h4>
											<strong>注意！</strong>
											请提出有意义的问题，请勿发表灌水内容。
											<a href="#" class="alert-link">【问题管理条例】</a>
									</div>
								</div>
							</div>
						</div>
					<form class="form-horizontal" role="form" target="iframe">
							
						<div class="form-group">
							<label for="inputQue" class="col-sm-2 control-label">问题</label>
							<div class="col-sm-9">
								<input type="text" class="form-control" id="inputQue" maxlength="200"/>
							</div>
						</div>
						<div class="form-group">
    						<label for="describeQue" class="col-sm-2 control-label">描述</label>
							<div class="col-sm-9">
    							<textarea class="form-control" rows="3" id="describeQue" style="max-width: 100%" maxlength="2000"></textarea>
							</div>
						  </div>
						  <div class="form-group">
							<label for="questionType" class="col-sm-2 control-label">问题类型</label>
							<div class="col-sm-9">
							<select class="form-control" id="selectKind">
							  <option>学业问答</option>
							  <option>就业指导</option>
							  <option>学习资源</option>
							  <option>生活相关</option>
							  <option>其他问题</option>
							</select>
						</div>
						  </div>
						  <div style="text-align: center;">
							<label><input type="checkbox" id="anonymousQuest"/> 匿名提问</label>
						</div>
						<div style="text-align:center">
							<button type="button" class="btn btn-primary" onclick="postQuestion()">提 交</button>
							<button type="button" class="btn btn-default" data-dismiss="modal" id="closeQue">关 闭</button>
						</div>
					</form>
					<iframe id="iframe" name="iframe" style="display:none;"></iframe>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
		</div><!-- /.modal -->
    <div class="container">
	<div class="row clearfix">
		<div class="col-md-12 column">
			<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
				<div class="navbar-header">
					 <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button> <a class="navbar-brand" href="#"><img src="pic/icon.png" height="40" width="40" vsapce="50" style="float:left"/></a>
				</div>
				
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" >
					<ul class="nav navbar-nav">
						<li class="dropdown">
							 <a href="index.html">首页</a>
						</li>
						<li>
							 <a href="#" data-toggle="modal" data-target="#myModal">提问</a>
						</li>
						<li class="active">
							<a href="questionList.html">等你来答</a>
						</li>
						<li class="dropdown"  id="tempBlock">
					   </li>
					</ul>
					<form class="navbar-form navbar-left" role="search" target="iframe">
						<div class="form-group">
							<input type="text" class="form-control" id="searchContent"/>
						</div> <button type="submit" class="btn btn-default" onclick="search();">🔍</button>
					</form>
					<iframe id="iframe" name="iframe" style="display:none;"></iframe>
					<ul class="nav navbar-nav navbar-right">
						<li>
							 <a href="myMessage.html">🔔</a>
						</li>
						<li>
							 <a href="usrInfo.html">我的&nbsp;&nbsp;&nbsp;</a>
						</li>
						<li>
							<a href="" onclick="exit();">退出登录&nbsp;&nbsp;&nbsp;</a>
						</li>
					</ul>
				</div>
				

			</nav>

				<div class="page-header" style="top:130">
					<br />
					<h1>
						等你来答 <small>这些问题需要你的回答</small>
					</h1>
					<nav class="mynav">
						<ul>
						  <li class="active"><a href="" onclick="changeKind('学业问答')">学业问答</a></li>
						  <li><a href="" onclick="changeKind('就业指导')">就业指导</a></li>
						  <li><a href="" onclick="changeKind('学习资源')">学习资源</a></li>
						  <li><a href="" onclick="changeKind('生活相关')">生活相关</a></li>
						  <li><a href="" onclick="changeKind('其他问题')">其他问题</a></li>
						</ul>
					  </nav>
					  <span class="target" style="position: fixed;"></span>
				</div>
				<!--页面主要内容容器-->
				<div id="questionDiv">
					<!--问题列表容器-->
					<div id="quetionList">

					</div>

					<ul class="pagination pagination-lg" id="pageButtons">
					</ul>
					<p id = "divEnd"></p>
				</div>

			</div>
		</div>
	</div>


</body>


<script>
	//美化分类导航↓
	"use strict";

	(function () {

 	 var target = document.querySelector(".target");
 	 var links = document.querySelectorAll(".mynav a");
 	 var colors = ["#D80000", "#D80000", "#D80000"];

  	function mouseenterFunc() {
  		if (!this.parentNode.classList.contains("active")) {
  	    	for (var i = 0; i < links.length; i++) {
        		if (links[i].parentNode.classList.contains("active")) {
          			links[i].parentNode.classList.remove("active");
        	}
        links[i].style.opacity = "0.25";
      	}

      	this.parentNode.classList.add("active");
      	this.style.opacity = "1";

      	var width = this.getBoundingClientRect().width;
      	var height = this.getBoundingClientRect().height;
      	var left = this.getBoundingClientRect().left + window.pageXOffset;
      	var top = this.getBoundingClientRect().top + window.pageYOffset;
      	var color = colors[Math.floor(Math.random() * colors.length)];

      	target.style.width = width + "px";
      	target.style.height = height + "px";
      	target.style.left = left + "px";
      	target.style.top = top + "px";
      	target.style.borderColor = color;
      	target.style.transform = "none";
    	}
  	}

  	for (var i = 0; i < links.length; i++) {
   		links[i].addEventListener("click", function (e) {
    	return e.preventDefault();
    	});
    	links[i].addEventListener("mouseenter", mouseenterFunc);
  	}

  	function resizeFunc() {
    	var active = document.querySelector(".mynav li.active");

    	if (active) {
      	var left = active.getBoundingClientRect().left + window.pageXOffset;
      	var top = active.getBoundingClientRect().top + window.pageYOffset;

      	target.style.left = left + "px";
      	target.style.top = top + "px";
    	}
  	}
  		window.addEventListener("resize", resizeFunc);
	})();
	//美化分类导航结束↑

	//问题容器
	var questionDiv = document.getElementById("questionDiv");
	//存放问题列表的div
	var questionList = document.getElementById("quetionList");
	//分页的按钮列表
	var pageButtons = document.getElementById("pageButtons");
	//上一页按钮
	var preButton = document.getElementById("previous");
	//下一页按钮
	var nextButton = document.getElementById("next");
	//问题模块结束标记元素
	var divEnd = document.getElementById("divEnd");
	//当前页面显示的数据(传递给后端的数据)
	var page = {
		"pageIndex": 1,
		"count": 5,
		"keyWord": "",
		"kind":"生活",
		sortApproach: "sortByDate",
	};

	//请求后端的url
	var path = "http://118.190.90.167:8888/questions";


	//页面加载时启动页面
	$(document).ready(function (e) {
		if(userVO == null){
			//登录过期
			alert("登录过期，请重新登录");
			window.location.href = "login.html";
		}
		//首页按时间排序
		changeQuestionPage(page, path);
		//获取临时板块
		getBlock();
	});

</script>

</html>